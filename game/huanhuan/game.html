<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ê¨¢Ê¨¢ÁöÑ‰∫íÂä®Â∞èÊ∏∏Êàè</title>
    <link rel="icon" href="huan.png" type="image/png">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Microsoft YaHei", sans-serif;
        }

        body {
            background: linear-gradient(135deg, #ffe6f2 0%, #f8d7e8 100%);
            min-height: 100vh;
            overflow: hidden;
            position: relative;
        }

        .game-title {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: #e63946;
            font-size: 32px;
            text-shadow: 2px 2px 8px rgba(255, 102, 153, 0.4);
            z-index: 100;
            text-align: center;
        }

        .avatar-container {
            position: fixed;
            top: 100px;
            left: 50%;
            transform: translateX(-50%);
            width: 200px;
            height: 200px;
            border-radius: 50%;
            overflow: hidden;
            border: 8px solid #ffccd5;
            box-shadow: 0 5px 20px rgba(255, 153, 204, 0.3);
            z-index: 90;
            background: #fff;
        }

        .avatar {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .floating-word {
            position: absolute;
            padding: 10px 20px;
            border-radius: 50px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            user-select: none;
            pointer-events: auto;
            z-index: 50;
            transition: all 0.2s ease;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            animation: floatRandom 8s linear infinite;
            opacity: 1;
        }

        .floating-word.positive {
            background: #ff6699;
            color: white;
        }

        .floating-word.negative {
            background: #999999;
            color: white;
        }

        @keyframes floatRandom {
            0% {
                transform: translate(0, 0) rotate(0deg);
                opacity: 1;
            }
            25% {
                transform: translate(calc(-50px - 20% * var(--random-x)), calc(-80px - 20% * var(--random-y))) rotate(5deg);
            }
            50% {
                transform: translate(calc(80px + 15% * var(--random-x)), calc(-50px + 15% * var(--random-y))) rotate(-5deg);
            }
            75% {
                transform: translate(calc(-30px + 10% * var(--random-x)), calc(60px - 10% * var(--random-y))) rotate(3deg);
            }
            100% {
                transform: translate(calc(50px - 15% * var(--random-x)), calc(-40px + 15% * var(--random-y))) rotate(-3deg);
                opacity: 1;
            }
        }

        .heart {
            position: absolute;
            width: 30px;
            height: 30px;
            background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23ff6699'%3E%3Cpath d='M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z'/%3E%3C/svg%3E") no-repeat center;
            background-size: contain;
            opacity: 0;
            animation: heartBurst 1.5s ease-out forwards;
            pointer-events: none;
            z-index: 60;
        }

        .punish {
            position: absolute;
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: rgba(255, 0, 0, 0.3);
            border: 3px solid #ff0000;
            opacity: 0;
            animation: punishBurst 1s ease-out forwards;
            pointer-events: none;
            z-index: 60;
        }

        .punish-text {
            position: absolute;
            color: #ff0000;
            font-size: 20px;
            font-weight: bold;
            opacity: 0;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
            animation: punishText 1s ease-out forwards;
            pointer-events: none;
            z-index: 60;
        }

        @keyframes avatarShake {
            0% { transform: translateX(-50%) rotate(0deg); }
            20% { transform: translateX(-53%) rotate(-5deg); }
            40% { transform: translateX(-47%) rotate(5deg); }
            60% { transform: translateX(-53%) rotate(-3deg); }
            80% { transform: translateX(-47%) rotate(3deg); }
            100% { transform: translateX(-50%) rotate(0deg); }
        }

        @keyframes heartBurst {
            0% {
                opacity: 1;
                transform: scale(0);
            }
            50% {
                opacity: 1;
                transform: scale(1.5) rotate(180deg);
            }
            100% {
                opacity: 0;
                transform: scale(0) rotate(360deg);
            }
        }

        @keyframes punishBurst {
            0% {
                opacity: 1;
                transform: scale(0);
            }
            50% {
                opacity: 1;
                transform: scale(2);
            }
            100% {
                opacity: 0;
                transform: scale(0);
            }
        }

        @keyframes punishText {
            0% {
                opacity: 1;
                transform: scale(0);
            }
            50% {
                opacity: 1;
                transform: scale(1.2);
            }
            100% {
                opacity: 0;
                transform: scale(0);
            }
        }

        .audio-control {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #ff6699;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(255, 102, 153, 0.4);
            z-index: 100;
            font-size: 24px;
        }

        @media (max-width: 768px) {
            .game-title {
                font-size: 24px;
                top: 10px;
            }
            
            .avatar-container {
                width: 150px;
                height: 150px;
                top: 80px;
            }
            
            .floating-word {
                font-size: 14px;
                padding: 8px 16px;
            }
            
            .punish-text {
                font-size: 16px;
            }
            
            .audio-control {
                width: 40px;
                height: 40px;
                font-size: 20px;
            }
        }
    </style>
</head>
<body>
    <h1 class="game-title">ÂíåÊ¨¢Ê¨¢‰∏ÄËµ∑Áé©Ê∏∏ÊàèÂêß ‚ù§Ô∏è</h1>
    
    <div class="avatar-container" id="avatarContainer">
        <img src="http://www.cmh.he.cn/huan.png" alt="Ê¨¢Ê¨¢" class="avatar" id="avatar">
    </div>

    <div class="audio-control" id="audioControl">üîä</div>
    <audio id="backgroundMusic" loop>
        <source src="audio.mp3" type="audio/mpeg">
    </audio>

    <script>
        const wordLibrary = {
            positive: [
                "ÁúüÊºÇ‰∫Æ", "Ë∂ÖÂèØÁà±", "Â•ΩËÅ™Êòé", "ÊúÄÊ£í‰∫Ü", "Á¨ëËµ∑Êù•ÁúüÁîú",
                "Â∞è‰ªôÂ•≥", "Â§™Ëø∑‰∫∫", "Ë∂ÖÂéâÂÆ≥", "ËêåËêåÂìí", "Ë∂ÖÊ∏©Êüî",
                "Ê∞îË¥®‰Ω≥", "Ë∂ÖÊúâË∂£", "‰∫∫ËßÅ‰∫∫Áà±", "Ëä±ËßÅËä±ÂºÄ", "Ë∂Ö‰ºòÁßÄ"
            ],
            negative: [
                "‰∏çÂ•ΩÁúã", "Á¨®Á¨®ÁöÑ", "‰∏çÂèØÁà±", "‰∏çÂñúÊ¨¢", "Ê≤°Ê∞îË¥®",
                "ÂÇª‰πé‰πé", "‰∏ë‰∏ëÁöÑ", "‰∏çËÅ™Êòé", "ËÆ®Âéå‰Ω†", "ÂÜ∑ÂÜ∞ÂÜ∞"
            ]
        };

        const CONFIG = {
            totalWords: 20,
            spawnInterval: 2000,
            wordLifetime: 8000,
            heartCount: 15
        };

        const body = document.body;
        const avatarContainer = document.getElementById('avatarContainer');
        const audioControl = document.getElementById('audioControl');
        const backgroundMusic = document.getElementById('backgroundMusic');
        let activeWords = [];
        let isAudioPlaying = false;

        function initGame() {
            for (let i = 0; i < CONFIG.totalWords; i++) {
                setTimeout(() => {
                    spawnRandomWord();
                }, i * 500);
            }

            setInterval(() => {
                if (activeWords.length < CONFIG.totalWords) {
                    spawnRandomWord();
                }
            }, CONFIG.spawnInterval);

            audioControl.addEventListener('click', toggleAudio);
        }

        function spawnRandomWord() {
            const isPositive = Math.random() > 0.4;
            const wordList = isPositive ? wordLibrary.positive : wordLibrary.negative;
            const randomWord = wordList[Math.floor(Math.random() * wordList.length)];
            
            const wordEl = document.createElement('div');
            wordEl.className = `floating-word ${isPositive ? 'positive' : 'negative'}`;
            wordEl.textContent = randomWord;
            wordEl.dataset.type = isPositive ? 'positive' : 'negative';
            wordEl.dataset.word = randomWord;

            const avatarRect = avatarContainer.getBoundingClientRect();
            let randomX, randomY;
            
            do {
                randomX = Math.random() * (window.innerWidth - 120) + 60;
                randomY = Math.random() * (window.innerHeight - 120) + 60;
            } while (
                randomX > avatarRect.left - 100 && randomX < avatarRect.right + 100 &&
                randomY > avatarRect.top - 100 && randomY < avatarRect.bottom + 100
            );

            const randomParamX = Math.random() * 10;
            const randomParamY = Math.random() * 10;
            wordEl.style.setProperty('--random-x', randomParamX);
            wordEl.style.setProperty('--random-y', randomPar
